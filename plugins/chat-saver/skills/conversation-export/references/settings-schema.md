# Settings Schema Reference

## Overview

chat-saver 支持通过本地配置文件自定义默认行为。配置文件位于项目根目录 `.claude/chat-saver.local.md`，使用 YAML frontmatter 格式。

## Configuration File

**File path:** `.claude/chat-saver.local.md`

```markdown
---
default_format: md
default_scope: full
save_dir: ./chats
custom_header: ""
custom_footer: ""
---

Additional notes or project-specific instructions (optional, ignored by parser).
```

## Fields

| Field | Type | Default | Description |
|-------|------|---------|-------------|
| `default_format` | `md` \| `txt` \| `html` | `md` | Default output format when not specified |
| `default_scope` | `full` \| `summary` | `full` | Default content scope when not specified |
| `save_dir` | string (path) | `./chats` | Directory to save exported files (relative to cwd) |
| `custom_header` | string | `""` | Custom text prepended to every exported file |
| `custom_footer` | string | `""` | Custom text appended to every exported file (replaces default footer) |

## Priority Order

Settings are resolved in this order (highest priority first):

1. **Command arguments** — Explicit `--format md`, `--append`, etc.
2. **Settings file** — Values from `.claude/chat-saver.local.md`
3. **Built-in defaults** — Hardcoded fallback values

## Parsing Rules

1. Read `.claude/chat-saver.local.md` using the Read tool
2. Extract YAML frontmatter between the opening `---` and closing `---`
3. Parse each key-value pair
4. Ignore unknown keys silently
5. If the file does not exist, use all built-in defaults without error

## Example Configurations

### Minimal (override format only)

```markdown
---
default_format: html
---
```

### Full customization

```markdown
---
default_format: md
default_scope: summary
save_dir: ./docs/conversations
custom_header: "Internal — Do not distribute"
custom_footer: "Generated by Project Alpha team"
---
```
